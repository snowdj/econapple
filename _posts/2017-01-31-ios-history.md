---
layout: post
title: IT往事之4：Apple开发iPhone的故事
description: "Apple开发iPhone的故事"
tags: [IT往事]
image:
  background: xuanzhi.png
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 说来话长</a></li>
<li><a href="#sec-2">2. 离开了帮主的苹果公司</a></li>
<li><a href="#sec-3">3. 女强人取消System 8</a></li>
<li><a href="#sec-4">4. 主角登场</a></li>
<li><a href="#sec-5">5. 花絮: Linux和Mac</a></li>
<li><a href="#sec-6">6. 微内核的高人出现</a></li>
<li><a href="#sec-7">7. 2007年1月9日</a></li>
<li><a href="#sec-8">8. iPhone的坎坷前传</a></li>
<li><a href="#sec-9">9. 下期预告</a></li>
</ul>
</div>
</div>

# 说来话长<a id="sec-1" name="sec-1"></a>

故事还得从上世纪80年代说起，乔布斯把卖可乐的约翰•斯卡利请进公司当CEO，乔布斯说了那句著名的话：你是想卖一辈子糖水，还是想改变世界。 从某种意义上说，约翰•斯卡里确实改变了世界，只是改变世界的方法比较奇特。约翰•斯卡利当上苹果公司CEO不久后，就把乔布斯哄出了公司。

![John Sculley](https://upload.wikimedia.org/wikipedia/commons/5/5a/John_Sculley_III.jpg)

乔布斯被苹果扫地出门以后，找了一些投资人，组建了另外一家电脑公司，名字叫做NEXT电脑公司。有人说他是为了复仇，他自己说他是为了改变世界。不管怎么说啦，反正，约翰•斯卡利就通过这种方法，间接的改变了世界，比卖一辈子糖水强。

苹果的早期投资者之一，亚瑟•罗克曾经说过：对乔布斯来说，最好的事情就是苹果公司解雇了他，叫他滚蛋。可能我们普通人不能理解，这是一种严厉的爱，比如说，有一些恋人分手复合多少次，他们之间一定有我不理解的爱，虐恋。乔布斯离开苹果以后，就自由了，他经历了一系列巨大的失败，从而变的成熟。

# 离开了帮主的苹果公司<a id="sec-2" name="sec-2"></a>

再接着回来说离开了乔布斯的苹果公司，当时的CEO已经是一个叫阿梅里奥的人，此人并不是乔布斯说的那么蠢，乔布斯对此人的评价是：最差劲的CEO。乔帮主的话，听听就行了。这个阿梅里奥刚开始当CEO的时候，苹果要倒闭了，他离开苹果公司的时候，公司已经盈利了，账户上还有30亿美元现金。这些和本文要说的事情关系不大，省略掉。

![Gil Amelio](https://static1.squarespace.com/static/54cda5dae4b06bf8f30d42f4/t/556fe3c8e4b06ce94fadf96c/1433396169757/)

关系比较大的是，就是这个阿梅里奥，虽然挺会赚钱，但是不懂技术啊。在1996年的时候，他很开心的向用户宣布，苹果公司要发新的系统了，名字叫做System 8。非常的先进，苹果的粉丝们兴高采烈，就等着秋天发布正式版。

但是，实际情况呢？这个System 8根本没法用！甚至连文本文件都不能编辑，为了展示的需要，用户界面上的按钮都是图片，没法点。做展示的时候，就是靠一张照片来忽悠观众。在苹果公司内部，懂技术的心知肚明，这玩意别说秋季了，内部员工开玩笑说，System 8的正式版，至少得50年后才能发布。也就是说，如果50年后的话，应该是2046年，从今天算，还得等30年呢。

![system 8](https://upload.wikimedia.org/wikipedia/en/5/59/Mac_OS_8.1_emulated_inside_of_SheepShaver.png)

公司CEO不懂技术没事儿，苹果公司还是有牛人的，这个牛人是个女士，名字叫Ellen Hancock, 是苹果公司的技术总监。乔布斯对此人的评价是：就是个白痴。前面也说了，能让乔帮主评价为白痴的，也是个牛人。一般人连白痴都算不上。该女士还是非常猛的，她一下子就看出了System 8根本没戏。

# 女强人取消System 8<a id="sec-3" name="sec-3"></a>

在她的坚持下，System 8项目被取消，因为她知道根本不可能让这个系统运行起来。她一方面把原先能运行的那个操作系统，也就是System 7.5继续开发，看看能不能添上一点新东西，先把这次承诺的秋天发布给糊弄过去，换个皮肤，买点第三方软件啥的，能糊弄就糊弄呗。另一方面，她知道老糊弄也不是办法，看看能不能买个现成的操作系统来。这个女的，我还是挺佩服她的魄力的。她一方面用个老系统糊弄住那些用户，另一方面，直接采购一套完整的操作系统。

当时进入苹果公司眼睛的有两家，分别是BE的BeOS操作系统，还有一家就是乔布斯新建的这家叫NEXT的公司。这两家公司都有自己的操作系统。我当年上大学的时候，还用过BeOS的系统。当时觉得和Linux差不多，但是比Linux要好用。我找了一张图，大概是这样的。当年这家BeOS的公司呢，感觉自己的操作系统很厉害，要价就特别高，说是要4亿美元。苹果公司刚开始开价是1.2亿，后来涨到2亿。结果这个Be公司的CEO，不肯松口，4亿，少一分也不卖！然后，苹果就买了乔布斯的公司，乔布斯公司的系统是NeXTSTEP。这个系统，就是我们今天用的苹果手机的系统的祖宗。

![BEOS](https://upload.wikimedia.org/wikipedia/en/a/ae/BeOS_Desktop.png)

# 主角登场<a id="sec-4" name="sec-4"></a>

铺垫了这么久，终于引出来了，iOS系统就是继承NeXTSTEP系统而来的。所以，我文章开头的时候说，每次点击，都是点击的历史！NeXT公司被收购以后，乔布斯也就顺理成章的回归苹果公司，开始着手基于NeXTSTEP系统，开发新一代的操作系统，就是Mac OS X系统。 被收购的这家NeXTSTEP系统的内核是基于BSD系统的。

![nextstep](https://upload.wikimedia.org/wikipedia/en/1/1d/NeXTSTEP_desktop.png)

# 花絮: Linux和Mac<a id="sec-5" name="sec-5"></a>

BSD系统也是开源的，但是他和Linux的开源协议不同。总体来说，BSD的更新频率和Linux系统还是有差距的。乔布斯当时就动了脑筋，要不把Mac OS X系统的内核换成Linux算了。然后，在多方的筹备下，Linux的创世人Linus就去拜见了一次乔布斯。乔布斯也知道Linus的牛脾气，据说，乔布斯还表现出礼贤下士的样子，接见规格搞的挺高，把NeXT的CTO等技术骨干都拉来参加会议。会议的结果就是谈崩了，我只能猜测，Linus这种大神，他连比尔盖茨也瞧不上，乔布斯估计他也不放在眼里。一山难容二虎，不过，后来两人都很默契的没有提到这次的会议内容。估计，火星和地球的碰撞，都不好惹。

不过，Linus的脾气也不好，这一点和国内的大牛有共同之处，开口就骂，最近，他把开源软件界的一个大美女骂跑了; Linus还谈过他为啥骂人，他公开说：有些人认为我是好人，在发现我不是好人以后，还感到震惊。其实，我不是一个好人，我也不在乎你们震惊不震惊，我根本就不在乎你们！这些牛人确实都是火爆的脾气，乔布斯也是一言不合就放无双，Linus也是。哎，我脾气很好，所以我的编程技术很菜！

后来Android发展起来以后，使用的内核就是Linux，如果当年Linus答应了苹果，说不好，现在的手机都是Linux内核，这个也没法假设&#x2026; 这都是后话了&#x2026;

# 微内核的高人出现<a id="sec-6" name="sec-6"></a>

在和Linus谈使用Linux做内核这件事谈分手以后，苹果还是找到了一个牛人，这个人叫Avie Tevanian，此人是卡耐基梅隆大学的。他开发出了一个微内核的系统，这个系统叫Mach（ma:k）。如果听众中有人学过操作系统的话，这个微内核是非常难搞的，但是，此人就是搞成了。

![tevanian](http://www.nextequity.com/wp-content/themes/nextequity/images/photo-tevanian.jpg)

他随便发了一篇论文，告诉大家怎么搞微内核，这篇论文是整个计算机界搞操作系统的人引用的最多的一篇论文，不知道要不要加上个之一。这个Avie Tevania后来加入到苹果公司，基于这个Mach的内核，NeXTStep操作系统取得了巨大的成功。具体的一些琐事在此不细说了，只挑重点的说，Avie Tevania后来是苹果公司软件开发的总裁。前面还说到BSD的系统，大家还记得吧？苹果公司后来把BSD系统的领军人物乔丹，不是打篮球的那个乔丹，也挖了过来。

# 2007年1月9日<a id="sec-7" name="sec-7"></a>

2007年1月9日，在旧金山的Macworld大会上，乔布斯说道：今天，我们将推出三款技术性产品，第一个是宽屏触控式iPod，第二个是一款革命性的手机，第三是革命性的互联网通信设备。随后，他又重复了一遍以上的话，然后他问道：你们明白了么？这不是三台独立的设备，而是一台设备，我们把他称为iPhone。台下爆发出雷鸣般的呼喊声。

此时，在观众席的第五排，有几个人的脸色凝重，明显带着紧张的表情。这五六个人手里，每个人拿着一个酒杯，大口大口的喝着威士忌。他们是iPhone小组的核心成员，只有靠着血液里流淌的酒精，才能缓解在现场的紧张。台上的乔布斯每演示完一个功能，台下的工程师就喝一杯威士忌。在压力和紧张下，他们创造了历史。

在这几个工程师里，有一个负责iPhone无线电通信部分的工程师，他叫格里尼翁，无论手机的功能有多复杂，但是最核心的功能之一，就是打电话，如果不能打电话，就不能称之为手机。格里尼翁就是负责iPhone如何打电话，如何连上网络。为了这场至关重要的发布会，格里尼翁耗尽了心血，在开发iPhone的两年时间里，他体重增加了50磅，在公司里，为了能及时的补充酒精，缓解疲劳，他甚至在办公室里放了一个酒柜。

格里尼翁是苹果公司的老员工了，到2007年iPhone发布前夕，他已经为苹果工作了15年。早在1993年，他就在苹果公司为一台夭折的项目——牛顿掌上电脑——开发软件和硬件，随后在2000年，他去了Pixo公司，两年之后，他开发的Pixo软件被安装到一台设备上，这台设备就是后来帮Apple东山再起的iPod。上面提到了牛顿掌上电脑，远在1990年代，苹果需要一个低功耗的CPU，就找到了英国一家叫Acorn的公司，并且投资了300万美元，后来这家公司就是如今名满天下的ARM公司。

不管是网上还是传闻中，乔布斯的脾气是出了名的火爆，即使像格里尼翁这种不可多得的天才工程师，乔布斯也是毫不留情。格里尼翁曾经说过，被乔布斯痛骂以后，感觉自己身高都矮了一大截。乔布斯曾经骂格里尼翁Fuckchop, 后来这个家伙还把Fuckchop印在了名片上。

![Andy Grignon](https://cdn3.tnwcdn.com/wp-content/blogs.dir/1/files/2012/06/165422_10150905195693985_840412351_n-520x390.jpg)

# iPhone的坎坷前传<a id="sec-8" name="sec-8"></a>

在开发iPhone之前，苹果公司曾经和摩托罗拉联合开发过一款音乐手机，名字叫Rokr，2005年9月发布，这个手机的照片我也放在微信公众号——软件那些事儿——里面了，这款手机很普通，又大又笨重，唯一的亮点是可以使用iTunes管理音乐，但是最多只能存100首歌。这款手机市场反响也很糟糕，《连线》杂志用一篇封面故事报道了这次惨败，那篇文章的标题是：这就是未来手机么？苹果公司也很不满意，同期就发布了第一台iPod nano。看热闹不闲事大的记者赶紧去调戏当时摩托罗拉的CEO，让他评价一下苹果刚发布的nano怎么样，当时的CEO赞德简明扼要的回答：去他妈的nano！

![Rokr](https://upload.wikimedia.org/wikipedia/commons/1/18/MOTOROKR.jpg)

当时，也就是2005年，苹果卖出去了3200万台iPod，当时所有人都期待苹果能出一台手机，光苹果内部就有一大群高管围着乔布斯，让他出手机，这些高管包括麦克贝尔，史蒂夫塞克曼等等。前面我提过，造出好东西的都是同样一些人，这里的贝尔现在去Intel研发CPU了，那个塞克曼以前在Palm公司研发Palm手机，后来在苹果研发iPod，翻来覆去的，都是这群人创造历史。外部包括风险基金的格雷厄姆等等，都预测苹果下一个产品就是手机。在2004年底，乔布斯终于被说动了，着手准备研发手机。

研发手机的时候，困难重重，光是原型机，据说就弄了6套。这里说的6套不是说弄了6个皮肤，而是不同的硬件，不同的软件，总共是六套。担任早期iPhone的负责人法德尔，后来创办了自己的公司，叫Nest，这个公司后来被谷歌收购，这个传闻是从他的一次访谈中看到的。按照我知道的信息，苹果公司开发过一台Linux版本的，但是，没法满足需求。乔布斯希望能开发一个OS X系统的，但是耗电太快，而且手机的CPU速度也不够快。

由于处于非常早期，当时没有硬件环境让工程师测试，工程师就购买了一些硬件发烧友的电路板来测试。项目初期的工程师之一加纳特拉说：我们从Mac电脑里面的通讯录开始，看看能不能让通讯录以每秒30到60帧的速度滚动名单。如果速度不够好，那就麻烦了。幸好，他们在电路板上做到了。

# 下期预告<a id="sec-9" name="sec-9"></a>

不管是上期说的安卓，还是这一期说的iOS，还是最开始说的Java那一期，总是离不开一个系统叫Unix，安卓的内核是Linux，iOS的内核是BSD，他们都属于类Unix的系统。所以，下一期的内容就是讲一下Unix，这个神奇的，几乎无处不在的系统。
